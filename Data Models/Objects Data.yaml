messages:
  - &drop You put the <object> down on the ground.
  - &attack_with
  - &untakeable You can't take the <object>.
  - &undroppable You can't drop the <object> here.
  - &unthrowable You can't throw the <object>.
  - &unattackable You can't attack the <object>.
  - &ungotoable You can't go to an object, you can only go to a location.

OBJECTS:
  backpack:
    type: CONTAINER
    references: [backpack, bag, sack, pack, knapsack]
    description: A brown linen durable backpack capable of holding up to 55 lbs.
    active_location: '10'
    inventory: []
    weight: 3
    damage: 5


  egg:
    type: SIMPLE
    references: [egg, silver egg]
    description: A large silver egg, weighing about 5 lbs.
    loc_description: A large silver egg lays on the floor.
    active_location: 6a
    damage: 0
    weight: 4

  lantern:
    type: COMPLEX
    references: [lantern, light, brass]
    description: A brass lantern with clouded glass doors and a curved black handle.
    weight: 6
    damage: 10
    active_location: 6a
    
    states:
      lit: False
      light_guard: True
    # state_change_exceptions:

    
    # messages:
    reactions:
      state_changes:
        lit:
          general:
            True: The light turns on, but it doesn't help - it's already light here.
            False: The light turns off, but so what? It's already light here.
          exceptions: 
            - [if: [[player, active_location, 6a]],
              reaction: {True: 'The light turns on, and everything becomes more clear.
                                You see a stone staircase rise up in front of you.',
                        False: 'The light flickers off, and it becomes harder to see.'}]

            - [if: [[troll, guarding, True], [player, active_location, 4a]],
              reaction: {True: The troll's power stops the light from turning on.}]
              

            
                
      commands:
        take: You pick up the lantern and brush off the dust covering the stained 
            glass sides. It looks like it has been here for a while.
        throw: You throw the lantern and it falls with a clatter on the ground a few feet away.
        #- attack: *unattackable

ACTORS:
  # actors don't have a weight, it doesn't really matter how heavy they are
  # because you're not throwing them at something as you don't have control over them.
  troll:
    references: [troll, ugly]
    description: a large ugly troll
    active_state: guarding
    active_location: 4a
    weight: None
    damage: 17
    health: 100

    states:
      guarding: True
      hairy: False
    
    # messages:
    reactions:
      state_changes:
        not_guarding: The troll ambles away, shoulders drooping.
      attr_changes:
        health:
          40: [change_state, guarding]
          0:  
      commands:
        take: You pick up the lantern and brush off the dust covering the stained 
            glass sides. It looks like it has been here for a while.
        drop: &drop
        throw: You throw the lantern and it falls with a clatter on the ground a few feet away.
        #- attack: *unattackable
        goto: *ungotoable
    
